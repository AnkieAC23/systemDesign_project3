<!-- All code generated with the help of GitHub Copilot with minor modifications by Ankie Chen. -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Welcome — Your Fashion Diary</title>

  <!-- Adobe Typekit fonts (Minion Pro and Niveau Grotesk) -->
  <link rel="stylesheet" href="https://use.typekit.net/jtr4ghx.css">

  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="top-space"></div>

  <header class="site-header">
    <div id="authContainer">
      <a class="profile-button" href="/login">Login</a>
    </div>
  </header>

  <main>
    <section class="home-banner" role="img" aria-label="Banner image">
      <div class="banner-overlay">
        <h1 class="banner-title">
          <span class="banner-small">Welcome to</span>
          <span class="banner-large">
            <span class="banner-your">YOUR</span>
            <span class="banner-diary">FASHION DIARY</span>
          </span>
        </h1>
        <a class="cta-button" href="/signup">Create an account</a>
      </div>
    </section>
  </main>

  <!-- About Section -->
    <section class="intro-section">
      <div class="intro-inner">
        <h2>About Your Fashion Diary</h2>
        <p>Welcome to Your Fashion Diary. This platform allows you to easily track and reflect on your daily outfits, helping you understand your style, preferences and fashion journey over time. <br>
        <br> To get started, simply create an account. Once signed in, you will be taken directly to your dashboard, where you can view your collection of existing fashion entries and create new ones. <br>
        <br> With each entry, you can record details such as the date, brand, occasion and give a rating. You can also add notes to reflect on how you felt in the outfit, what inspired the look or anything else you would like to remember. <br>
        <br> Your Fashion Diary is designed to document your outfits, capture the evolution of your personal style and provide a space for reflection. We hope it becomes a valuable tool for understanding your fashion journey.
        </p>
      </div>
    </section>
  
  <footer>
    The core website uses a template created by <a href="https://nsitu.ca">Harold Sikkema.</a>
    <br>
    The visual design, layout, and content were created by Ankie Chen. 
    <br>  
    © 2025 Ankie Chen.
  </footer>

  <script>
    // Check if user is logged in and display profile menu instead of login button
    async function initAuth() {
      try {
        const response = await fetch('/user')
        if (response.ok) {
          const user = await response.json()
          const authContainer = document.getElementById('authContainer')
          
          // Create profile menu for logged-in users
          authContainer.innerHTML = `
            <div class="profile-container">
              <span class="home-greeting">Hello, ${user.nickname || user.name || 'User'}</span>
              <div class="nav-icon profile-icon" id="profileMenuWrapper" title="Profile" tabindex="0">
                <img src="profile.png" alt="Profile" />
                <div class="profile-dropdown" id="profileDropdown" aria-hidden="true">
                  <a href="/outfits.html" class="dropdown-item">Outfits</a>
                  <a href="#" class="dropdown-item logout-link">Log Out</a>
                </div>
              </div>
            </div>
          `
          
          // Set up profile dropdown functionality
          const profileWrapper = document.getElementById('profileMenuWrapper')
          const profileDropdown = document.getElementById('profileDropdown')
          const logoutLink = profileDropdown.querySelector('.logout-link')
          
          function hideProfileDropdown() {
            profileDropdown.style.display = 'none'
            profileDropdown.setAttribute('aria-hidden', 'true')
          }
          function showProfileDropdown() {
            profileDropdown.style.display = 'block'
            profileDropdown.setAttribute('aria-hidden', 'false')
          }
          
          profileWrapper.addEventListener('click', (ev) => {
            ev.stopPropagation()
            const isOpen = profileDropdown.getAttribute('aria-hidden') === 'false'
            if (isOpen) hideProfileDropdown()
            else showProfileDropdown()
          })
          
          document.addEventListener('click', (ev) => {
            if (!profileWrapper.contains(ev.target)) hideProfileDropdown()
          })
          
          document.addEventListener('keydown', (ev) => {
            if (ev.key === 'Escape') hideProfileDropdown()
          })
          
          logoutLink.addEventListener('click', (ev) => {
            ev.preventDefault()
            window.location.href = '/logout'
          })
        }
      } catch (error) {
        console.log('User not authenticated or error fetching user info')
      }
    }
    
    initAuth()
  </script>

</body>
</html>
<!-- All code generated with the help of GitHub Copilot with minor modifications by Ankie Chen. -->